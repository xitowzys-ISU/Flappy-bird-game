/*! For license information please see app.bundle.js.LICENSE.txt */
(()=>{"use strict";var t={194:(t,e,i)=>{i.d(e,{Z:()=>s});var n=i(933),r=i.n(n),o=i(476),a=i.n(o)()(r());a.push([t.id,"canvas {\n    border: 2px solid #a8a8a8;\n    display: block;\n    margin: 0 auto;\n}\n\nbody {\n    background-color: rgb(27, 31, 79);\n}",""]);const s=a},476:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",n=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),n&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),n&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,n,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);n&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),i&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=i):u[2]=i),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},933:t=>{t.exports=function(t){return t[1]}},892:t=>{var e=[];function i(t){for(var i=-1,n=0;n<e.length;n++)if(e[n].identifier===t){i=n;break}return i}function n(t,n){for(var o={},a=[],s=0;s<t.length;s++){var c=t[s],l=n.base?c[0]+n.base:c[0],u=o[l]||0,p="".concat(l," ").concat(u);o[l]=u+1;var h=i(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(f);else{var d=r(f,n);n.byIndex=s,e.splice(s,0,{identifier:p,updater:d,references:1})}a.push(p)}return a}function r(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var o=n(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=i(o[a]);e[s].references--}for(var c=n(t,r),l=0;l<o.length;l++){var u=i(o[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=c}}},311:t=>{var e={};t.exports=function(t,i){var n=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},60:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},192:(t,e,i)=>{t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},760:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,r&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},865:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={id:n,exports:{}};return t[n](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.nc=void 0,(()=>{var t=i(892),e=i.n(t),n=i(760),r=i.n(n),o=i(311),a=i.n(o),s=i(192),c=i.n(s),l=i(60),u=i.n(l),p=i(865),h=i.n(p),f=i(194),d={};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==m(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===m(r)?r:String(r)),n)}var r}d.styleTagTransform=h(),d.setAttributes=c(),d.insert=a().bind(null,"head"),d.domAPI=r(),d.insertStyleElement=u(),e()(f.Z,d),f.Z&&f.Z.locals&&f.Z.locals;var g=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.collection={point:"./assets/audio/point.ogg",flap:"./assets/audio/wing.ogg",hit:"./assets/audio/hit.ogg",swoosh:"./assets/audio/swoosh.ogg",die:"./assets/audio/die.ogg",background:"./assets/audio/background.ogg"},this.collection){var n=new Audio;n.src=this.collection[i],this.collection[i]=n}}var e,i;return e=t,i=[{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.collection[t].paused?(this.collection[t].volume=e,this.collection[t].play()):(this.collection[t].pause(),this.collection[t].volume=e,this.collection[t].currentTime=0,this.collection[t].play())}},{key:"playLoop",value:function(t){this.collection[t].paused?(this.collection[t].loop=!0,this.collection[t].play()):(this.collection[t].pause(),this.collection[t].currentTime=0,this.collection[t].play())}},{key:"stop",value:function(t){this.collection[t].pause(),this.collection[t].currentTime=0}}],i&&y(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();const v=g;function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==b(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===b(r)?r:String(r)),n)}var r}function x(t,e){S(t,e),e.add(t)}function I(t,e,i){S(t,e),e.set(t,i)}function S(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function k(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function P(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,E(t,e,"set"),i),i}function C(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,E(t,e,"get"))}function E(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var T=new WeakMap,j=new WeakMap,B=new WeakSet,O=new WeakSet,M=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),x(this,O),x(this,B),I(this,T,{writable:!0,value:0}),I(this,j,{writable:!0,value:0}),this.canvas=e,this.ctx=i,this.srcImageBackground=new Image,this.srcImageBackground.src="./assets/sprites/background.png",this.srcImageBackground_1=new Image,this.srcImageBackground_1.src="./assets/sprites/background_1.png",this.srcImageBackground_2=new Image,this.srcImageBackground_2.src="./assets/sprites/background_2.png",this.srcImageForeground=new Image,this.srcImageForeground.src="./assets/sprites/base_pink.png",this.foregroundSpeed=.3,this.backgroundSpeed=1}var e,i;return e=t,(i=[{key:"update",value:function(t){P(this,T,C(this,T)+this.foregroundSpeed),P(this,j,C(this,j)+this.backgroundSpeed)}},{key:"render",value:function(t){k(this,B,R).call(this),k(this,O,_).call(this)}}])&&w(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function R(){this.ctx.drawImage(this.srcImageBackground,0,0),this.ctx.drawImage(this.srcImageBackground_1,0-C(this,j),0),this.ctx.drawImage(this.srcImageBackground_2,this.srcImageBackground_2.width-C(this,j)-1,0),this.ctx.drawImage(this.srcImageBackground_1,2*this.srcImageBackground_2.width-C(this,j)-1,0),C(this,j)>=2*this.srcImageBackground_2.width&&P(this,j,0)}function _(){this.ctx.drawImage(this.srcImageForeground,0-C(this,T),this.canvas.height-this.srcImageForeground.height),this.ctx.drawImage(this.srcImageForeground,this.srcImageForeground.width-C(this,T),this.canvas.height-this.srcImageForeground.height),C(this,T)>=this.srcImageForeground.width&&P(this,T,0)}const A=M;function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function W(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==F(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===F(r)?r:String(r)),n)}var r}var L=new WeakSet,G=function(){function t(e,i){var n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,r=L),r.add(n),this.canvas=e,this.ctx=i,this.gravity=.22,this.jump=4.6,this.srcCurrentBird=new Image,this.srcCurrentBird.onload=function(){o.x=(o.canvas.width-o.srcCurrentBird.width)/2,o.y=210+o.dy},this.srcCurrentBird.src="./assets/sprites/pinkbird-downflap.png",this.bird=function(){var t=new Image;t.src="./assets/sprites/pinkbird-downflap.png";var e=new Image;e.src="./assets/sprites/pinkbird-midflap.png";var i=new Image;return i.src="./assets/sprites/pinkbird-upflap.png",{width:t.width,height:t.height,images:[t,e,i]}}(),this.dx=0,this.dy=0,this.rotation=0,this.animationBird()}var e,i;return e=t,i=[{key:"animationBird",value:function(t){var e=this;this.bird.images.forEach((function(t,i,n){e.srcCurrentBird=t}));var i=0;setInterval((function(){i==e.bird.images.length&&(i=0),e.srcCurrentBird=e.bird.images[i],i+=1}),100)}},{key:"resetBirdPosition",value:function(){this.y=210,this.dy=0}},{key:"update",value:function(t){this.y+=this.dy,this.dy+=this.gravity}},{key:"flap",value:function(){this.dy-=this.jump}},{key:"toRadians",value:function(t){return t*Math.PI/180}},{key:"detectCollision",value:function(t,e,i,n){var r=this;if(this.y<=0)return!0;if(this.y+this.srcCurrentBird.height>=this.canvas.height-e.srcImageForeground.height)return!0;var o=!1;return 0!=t.length&&t.forEach((function(t,e,a){t.pipe.top.collision.x0<r.x+r.srcCurrentBird.width&&t.pipe.top.collision.x0+t.pipe.top.collision.x1>r.x&&t.pipe.top.collision.y0<r.y+r.srcCurrentBird.width&&t.pipe.top.collision.y1+t.pipe.top.collision.y0>r.y&&(console.error("DETECT"),o=!0),t.pipe.bottom.collision.x0<r.x+r.srcCurrentBird.width&&t.pipe.bottom.collision.x0+t.pipe.bottom.collision.x1>r.x&&t.pipe.bottom.collision.y0+10<r.y+r.srcCurrentBird.width&&t.pipe.bottom.collision.y1+t.pipe.bottom.collision.y0>r.y&&(console.error("DETECT"),o=!0),t.pipe.emptyCollision.collision.x0<r.x+r.srcCurrentBird.width&&t.pipe.emptyCollision.collision.x0+t.pipe.emptyCollision.collision.x1>r.x&&(t.pipe.emptyCollision.collision.used=!0),!t.pipe.emptyCollision.collision.used||t.pipe.emptyCollision.collision.x0<r.x+r.srcCurrentBird.width&&t.pipe.emptyCollision.collision.x0+t.pipe.emptyCollision.collision.x1>r.x||(t.pipe.emptyCollision.collision.used=!1,i.count+=1,n.play("point",.6))})),!!o}},{key:"render",value:function(t){this.rotation=4*this.dy,this.ctx.save(),this.ctx.translate(this.x,this.y),this.ctx.rotate(this.toRadians(this.rotation)),this.ctx.drawImage(this.srcCurrentBird,0,0),this.ctx.restore()}}],i&&W(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();const D=G;function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function Z(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==N(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===N(r)?r:String(r)),n)}var r}var q=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.ctx=i,this.count=0,this.srcImages={};for(var n=0;n<=9;n++){var r=new Image;r.src="./assets/sprites/".concat(n,".png"),this.srcImages[n]=r}}var e,i;return e=t,(i=[{key:"update",value:function(){}},{key:"render",value:function(t){var e=this.count.toString(),i=-this.srcImages[parseInt(e.charAt(e.length-1))].width;if(e.length-1==1&&(i/=2),e.length-1==0)this.ctx.drawImage(this.srcImages[parseInt(e.charAt(n))],this.canvas.width/2,20);else for(var n=0;n<e.length;n++)this.ctx.drawImage(this.srcImages[parseInt(e.charAt(n))],this.canvas.width/2+i,20),i+=this.srcImages[parseInt(e.charAt(n))].width}}])&&Z(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();const z=q;function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function H(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==U(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===U(r)?r:String(r)),n)}var r}var J=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.ctx=i,this.states={getReady:0,game:1,gameOver:2},this.state=this.states.getReady,this.score=0,this.getReadyImage=new Image,this.getReadyImage.src="./assets/sprites/message.png",this.gameOverImage=new Image,this.gameOverImage.src="./assets/sprites/gameover.png"}var e,i;return e=t,i=[{key:"restartGame",value:function(t){t.pipes=Array()}},{key:"renderGetReady",value:function(){this.ctx.drawImage(this.getReadyImage,(this.canvas.width-this.getReadyImage.width)/2,40)}},{key:"renderGameOver",value:function(){this.ctx.drawImage(this.gameOverImage,(this.canvas.width-this.getReadyImage.width)/2,80)}},{key:"renderScore",value:function(){}}],i&&H(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();const K=J;function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function V(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==Q(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Q(r)?r:String(r)),n)}var r}var X=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.ctx=i,this.srcImagePipe=new Image,this.srcImagePipe.src="./assets/sprites/pipe-pink.png",this.speed=.1,this.xMove=30,this.yMove=0,this.pipe=null}var e,i;return e=t,(i=[{key:"generatePipe",value:function(t,e){var i=this,n=0;t<0?(t=0,console.warn("The height is too small")):t>240&&(t=240,console.warn("The height is too big")),e<0&&(e=0,console.warn("Negative indentation")),80+t-e<40&&(n=40-(80+t-e),console.warn("The upper pipe has reached the limit"));var r={collision:{x0:this.canvas.width,y0:-this.srcImagePipe.height+t+80,x1:this.srcImagePipe.width,y1:this.srcImagePipe.height-e+n},draw:function(){var r=i.canvas.width+i.srcImagePipe.width/2+i.xMove,o=80+t-e+n;i.ctx.save(),i.ctx.translate(r,o),i.ctx.rotate(180*Math.PI/180),i.ctx.drawImage(i.srcImagePipe,0,0,i.srcImagePipe.width,i.srcImagePipe.height+0,-i.srcImagePipe.width/2,0,i.srcImagePipe.width,i.srcImagePipe.height),i.ctx.restore()}},o={collision:{x0:this.canvas.width,y0:80+t,x1:this.srcImagePipe.width,y1:this.srcImagePipe.height-t},draw:function(){i.ctx.save(),i.ctx.drawImage(i.srcImagePipe,0,-t,i.srcImagePipe.width,i.srcImagePipe.height+0,i.canvas.width+i.xMove,80,i.srcImagePipe.width,i.srcImagePipe.height),i.ctx.restore()}},a={collision:{x0:this.canvas.width,y0:80+t-e+n,x1:this.srcImagePipe.width,y1:e-n,used:!1}};this.pipe={top:r,bottom:o,emptyCollision:a}}}])&&V(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Y=X;function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function tt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,r=function(t,e){if("object"!==$(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$(r)?r:String(r)),n)}var r}function et(t,e){it(t,e),e.add(t)}function it(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nt(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function rt(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,ot(t,e,"set"),i),i}function ot(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var at=new WeakMap,st=new WeakSet,ct=new WeakSet,lt=new WeakSet,ut=new WeakSet,pt=function(){function t(e,i,n){var r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),et(this,ut),et(this,lt),et(this,ct),et(this,st),o={writable:!0,value:void 0},it(this,r=at),r.set(this,o),this.canvas=e,this.ctx=i,this.pipes=[],this.countPipes=1,this.showCollision=!1,this.speed=n,this.interval=2e3,rt(this,at,1)}var e,i;return e=t,(i=[{key:"update",value:function(t){var e=this;this.pipes.forEach((function(t){nt(e,st,ht).call(e,t),t.pipe.top.collision.x0=e.canvas.width+t.xMove,t.pipe.bottom.collision.x0=e.canvas.width+t.xMove,t.pipe.emptyCollision.collision.x0=e.canvas.width+t.xMove})),t.timestamp>function(t,e){return e.get?e.get.call(t):e.value}(this,ot(this,at,"get"))&&(rt(this,at,t.timestamp+this.interval),nt(this,ct,ft).call(this))}},{key:"render",value:function(t){var e=this;this.pipes.forEach((function(t){t.pipe.bottom.draw(),t.pipe.top.draw(),e.showCollision&&(nt(e,lt,dt).call(e,t.pipe.bottom.collision.x0,t.pipe.bottom.collision.y0,t.pipe.bottom.collision.x1,t.pipe.bottom.collision.y1,"red"),nt(e,lt,dt).call(e,t.pipe.top.collision.x0,t.pipe.top.collision.y0,t.pipe.top.collision.x1,t.pipe.top.collision.y1,"red"),nt(e,lt,dt).call(e,t.pipe.emptyCollision.collision.x0,t.pipe.emptyCollision.collision.y0,t.pipe.emptyCollision.collision.x1,t.pipe.emptyCollision.collision.y1,"green")),nt(e,ut,mt).call(e)}))}}])&&tt(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ht(t){t.xMove-=this.speed}function ft(){var t=this,e=new Y(this.canvas,this.ctx);e.srcImagePipe.onload=function(){e.generatePipe(Math.floor(200*Math.random())+60,100),t.pipes.push(e)}}function dt(t,e,i,n,r){this.ctx.beginPath(),this.ctx.rect(t,e,i,n),this.ctx.strokeStyle=r,this.ctx.lineWidth=2,this.ctx.stroke()}function mt(){0!=this.pipes.length&&this.pipes[0].pipe.bottom.collision.x0<-400&&(console.debug("DELETE"),this.pipes.shift())}const yt=pt;var gt,vt,bt,wt,xt,It,St=document.getElementById("canvas"),kt=St.getContext("2d"),Pt=0,Ct=new K(St,kt),Et=new yt(St,kt,0),Tt=new A(St,kt),jt=new D(St,kt),Bt=new z(St,kt),Ot=new v;gt=function(){switch(Ct.state){case Ct.states.getReady:Bt.count=0,Ct.state=Ct.states.game,Ot.playLoop("background");break;case Ct.states.game:Ot.play("flap",.4),jt.flap();break;case Ct.states.gameOver:Ot.play("swoosh",.3),Ct.state=Ct.states.getReady,Ct.restartGame(Et),jt.resetBirdPosition()}},St.addEventListener("click",(function(t){gt()})),document.addEventListener("keydown",(function(t){t.preventDefault(),"Enter"!=t.code&&"Space"!=t.code&&"ArrowUp"!=t.code||gt()})),bt=(vt={clear:function(){kt.clearRect(0,0,St.width,St.height)},update:function(t){Pt=2+.08*Bt.count,Et.speed=Pt,Et.interval=4e3/Pt,Tt.foregroundSpeed=Pt,Ct.state===Ct.states.game&&(Tt.update(t),Et.update(t),jt.update(t),jt.detectCollision(Et.pipes,Tt,Bt,Ot)&&(Ot.play("hit",.8),Ot.play("die",.8),Ot.stop("background"),Ct.state=Ct.states.gameOver))},render:function(t){Tt.render(t),Ct.state===Ct.states.getReady&&Ct.renderGetReady(),Ct.state===Ct.states.game&&(Et.render(t),Bt.render()),Ct.state===Ct.states.gameOver&&(Et.render(t),Ct.renderGameOver(),Bt.render()),jt.render(t)}}).clear,wt=vt.update,xt=vt.render,It=0,requestAnimationFrame((function t(e){requestAnimationFrame(t);var i=e-It,n={timestamp:e,pTimestamp:It=e,diff:i,fps:1e3/i,secondPart:i/1e3};wt(n),bt(),xt(n)}))})()})();